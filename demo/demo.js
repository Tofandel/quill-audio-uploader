(()=>{"use strict";var e={588:(e,t,n)=>{n.d(t,{Z:()=>b});var r=n(269),o=n.n(r);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,l=void 0,l=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===i(l)?l:String(l)),r)}var o,l}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=u(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},s.apply(this,arguments)}function u(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(i,e);var t,n,r,o=f(i);function i(){return l(this,i),o.apply(this,arguments)}return t=i,r=[{key:"create",value:function(e){var t=s(p(i),"create",this).call(this,e);if(!0===e)return t;var n=document.createElement("img");return n.setAttribute("src",e),t.appendChild(n),t}},{key:"value",value:function(e){var t=e.dataset;return{src:t.src,custom:t.custom}}}],(n=[{key:"deleteAt",value:function(e,t){s(p(i.prototype),"deleteAt",this).call(this,e,t),this.cache={}}}])&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(o().import("blots/block"));h.blotName="imageBlot",h.className="image-uploading",h.tagName="span",o().register({"formats/imageBlot":h});const g=h;function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===y(i)?i:String(i)),r)}var o,i}var v=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n,this.range=null,this.placeholderDelta=null,"function"!=typeof this.options.upload&&console.warn("[Missing config] upload function that returns a promise is required");var r=this.quill.getModule("toolbar");r&&r.addHandler("image",this.selectLocalImage.bind(this)),this.handleDrop=this.handleDrop.bind(this),this.handlePaste=this.handlePaste.bind(this),this.quill.root.addEventListener("drop",this.handleDrop,!1),this.quill.root.addEventListener("paste",this.handlePaste,!1)}var t,n,r;return t=e,(n=[{key:"selectLocalImage",value:function(){var e=this;this.quill.focus(),this.range=this.quill.getSelection(),this.fileHolder=document.createElement("input"),this.fileHolder.setAttribute("type","file"),this.fileHolder.setAttribute("accept","image/*"),this.fileHolder.setAttribute("style","visibility:hidden"),this.fileHolder.onchange=this.fileChanged.bind(this),document.body.appendChild(this.fileHolder),this.fileHolder.click(),window.requestAnimationFrame((function(){document.body.removeChild(e.fileHolder)}))}},{key:"handleDrop",value:function(e){var t=this;if(e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files.length){if(e.stopPropagation(),e.preventDefault(),document.caretRangeFromPoint){var n=document.getSelection(),r=document.caretRangeFromPoint(e.clientX,e.clientY);n&&r&&n.setBaseAndExtent(r.startContainer,r.startOffset,r.startContainer,r.startOffset)}else{var o=document.getSelection(),i=document.caretPositionFromPoint(e.clientX,e.clientY);o&&i&&o.setBaseAndExtent(i.offsetNode,i.offset,i.offsetNode,i.offset)}this.quill.focus(),this.range=this.quill.getSelection();var l=e.dataTransfer.files[0];setTimeout((function(){t.quill.focus(),t.range=t.quill.getSelection(),t.readAndUploadFile(l)}),0)}}},{key:"handlePaste",value:function(e){var t=this,n=e.clipboardData||window.clipboardData;if(n&&(n.items||n.files))for(var r=n.items||n.files,o=/^image\/(jpe?g|gif|png|svg|webp)$/i,i=function(){if(o.test(r[l].type)){var n=r[l].getAsFile?r[l].getAsFile():r[l];n&&(t.quill.focus(),t.range=t.quill.getSelection(),e.preventDefault(),setTimeout((function(){t.quill.focus(),t.range=t.quill.getSelection(),t.readAndUploadFile(n)}),0))}},l=0;l<r.length;l++)i()}},{key:"readAndUploadFile",value:function(e){var t=this,n=!1,r=new FileReader;r.addEventListener("load",(function(){if(!n){var e=r.result;t.insertBase64Image(e)}}),!1),e&&r.readAsDataURL(e),this.options.upload(e).then((function(e){t.insertToEditor(e)}),(function(e){n=!0,t.removeBase64Image(),console.warn(e)}))}},{key:"fileChanged",value:function(){var e=this.fileHolder.files[0];this.readAndUploadFile(e)}},{key:"insertBase64Image",value:function(e){var t=this.range;this.placeholderDelta=this.quill.insertEmbed(t.index,g.blotName,"".concat(e),"user")}},{key:"insertToEditor",value:function(e){var t=this.range,n=this.calculatePlaceholderInsertLength();this.quill.deleteText(t.index,n,"user"),this.quill.insertEmbed(t.index,"image","".concat(e),"user"),t.index++,this.quill.setSelection(t,"user")}},{key:"calculatePlaceholderInsertLength",value:function(){return this.placeholderDelta.ops.reduce((function(e,t){return t.hasOwnProperty("insert")&&e++,e}),0)}},{key:"removeBase64Image",value:function(){var e=this.range,t=this.calculatePlaceholderInsertLength();this.quill.deleteText(e.index,t,"user")}}])&&m(t.prototype,n),r&&m(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();window.ImageUploader=v;const b=v},269:e=>{e.exports=Quill}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=n(269),t=n.n(e),r=n(588);t().debug("warn"),t().register("modules/imageUploader",r.Z);var o=new(t())("#editor",{theme:"snow",modules:{toolbar:{container:[[{header:[1,2,3,!1]}],["bold","italic"],["clean"],["image"]]},imageUploader:{upload:function(e){var t=new FileReader;return new Promise((function(n,r){t.addEventListener("load",(function(){var e=t.result;setTimeout((function(){n(e)}),1500)}),!1),e?t.readAsDataURL(e):r("No file selected")}))}}}});o.on("text-change",(function(e,t,n){"api"==n?console.log("An API call triggered this change."):"user"==n&&console.log("A user action triggered this change."),console.log(t,e)})),o.on("selection-change",(function(e,t,n){if(e)if(0==e.length)console.log("User cursor is on",e.index);else{var r=o.getText(e.index,e.length);console.log("User has highlighted",r)}else console.log("Cursor not in the editor")}))})()})();